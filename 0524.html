<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="wrapper">
    <button class="like-btn">
        <span class="like-text">点赞</span>
    </button>
</div>
<div class="wrapper-demo1"></div>
<div class="wrapper-demo2"></div>
<script>
    const button=document.querySelector('.like-btn');
    const  butonText=document.querySelector('.like-text');
    let isLiked=true;
    console.warn(isLiked+"点击事件开始前")
    button.addEventListener('click',
        ()=>{
        isLiked=!isLiked;
        if(isLiked){
            butonText.innerHTML='取消';
        }else{
            butonText.innerHTML='点赞';
        }
            console.warn(isLiked+"点击事件结束后")
        }
        ,false );

</script>
<script>
  /*  class Likebutton{
        render(){
            return "<button class='like-btn'>"+
                "<span class='like-text'>点赞</span>"+
                "</button>";
        }
    }*/

  /*将String变成dom*/
  const creatDOMFromString=(domString)=>{
      const  div=document.createElement('div');
      div.innerHTML=domString
      return div;

  }
    class  Likebutton{
        //constrctor方法是类的默认方法，通过new生成对象的实例时，自动调用该方法。
        // 一个类必须有一个constructor方法，如果没有显示定义，一个空的constructor方法江北默认添加。
        constructor(){
            this.state={isLiked:false}
        }

        changeLikeText(){
            const likeText=this.el.querySelector('.like-text')
            this.state.isLiked=!this.state.isLiked
            likeText.innerHTML=this.state.isLiked?'取消':'点赞'
        }

        render(){
            this.el=creatDOMFromString( "<button class='like-btn'><span class='like-text'>点赞</span></button>")
            this.el.addEventListener('click',this.changeLikeText.bind(this) ,false)
            return this.el;
        }
    }

    const wrapper1=document.querySelector('.wrapper-demo1');
    const likeBtn1=new Likebutton()
    console.log(likeBtn1.render())
    wrapper1.appendChild(likeBtn1.render());

    const wrapper2=document.querySelector('.wrapper-demo2');
    const likeBtn2=new Likebutton();
    wrapper2.appendChild(likeBtn2.render());
</script>
</body>
</html>